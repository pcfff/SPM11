(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3f9647a4"],{6207:function(e,t,a){"use strict";a("973f")},"973f":function(e,t,a){},bbf9:function(e,t,a){"use strict";a.r(t);a("14d9");var s=function(){var e=this,t=e._self._c;return t("el-card",{staticClass:"box-card"},[t("el-breadcrumb",{attrs:{separator:"/"}},[t("el-breadcrumb-item",[e._v("学生管理")]),t("el-breadcrumb-item",[e._v("数据列表")])],1),t("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[t("el-form-item",{attrs:{label:"姓名"}},[t("el-input",{attrs:{placeholder:"请输入学生姓名"},model:{value:e.param.name,callback:function(t){e.$set(e.param,"name",t)},expression:"param.name"}})],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.searchForm}},[e._v("搜索")])],1)],1),t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.$router.push("/main/student/add")}}},[e._v("添加学生")]),t("el-button",{attrs:{type:"danger",size:"mini"},on:{click:e.batchDel}},[e._v("批量删除")]),t("el-table",{ref:"multipleTable",staticStyle:{width:"100%","margin-top":"10px"},attrs:{border:"",data:e.tableList,"tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange}},[t("el-table-column",{attrs:{type:"selection",width:"55"}}),t("el-table-column",{attrs:{align:"center",label:"ID",prop:"userId",sortable:""}}),t("el-table-column",{attrs:{align:"center",label:"用户名",prop:"username"}}),t("el-table-column",{attrs:{align:"center",label:"学号",prop:"num"}}),t("el-table-column",{attrs:{align:"center",label:"姓名",prop:"name"}}),t("el-table-column",{attrs:{align:"center",label:"手机号",prop:"phone"}}),t("el-table-column",{attrs:{align:"center",label:"专业",prop:"major"}}),t("el-table-column",{attrs:{align:"center",label:"性别",prop:"gender"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(1===t.row.sex?"男":"女")+" ")]}}])}),t("el-table-column",{attrs:{align:"center",label:"年级",prop:"grade"}}),t("el-table-column",{attrs:{align:"center",label:"年龄",prop:"age"}}),t("el-table-column",{attrs:{align:"left",label:"操作",width:"280"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){e.userId=a.row.userId,e.username=a.row.username,e.dialogFormVisible=!0}}},[e._v("修改密码 ")]),t("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.$router.push("/main/student/modify?id="+a.row.userId)}}},[e._v("修改 ")]),t("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.removeThis(a.row.userId)}}},[e._v("删除")])]}}])})],1),t("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:e.total},on:{"current-change":e.changePage}}),t("el-dialog",{attrs:{title:"修改密码",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[t("el-form",[t("el-form-item",{attrs:{label:"用户名","label-width":"80px"}},[t("el-input",{attrs:{readonly:"",disabled:"",autocomplete:"off"},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1),t("el-form-item",{attrs:{label:"密码","label-width":"80px"}},[t("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:e.setPassword}},[e._v("确 定")])],1)],1)],1)},l=[],i={data(){return{dialogFormVisible:!1,username:"",password:"",userId:"",param:{name:""},tableList:[],pageInfo:{pageNum:1,pageSize:10},total:0,multipleSelection:[]}},mounted(){this.getTableList(this.pageInfo)},methods:{getTableList(){this.$axios.get("/manage/student/list",{params:Object.assign(this.param,this.pageInfo)}).then(e=>{this.tableList=e.data.rows,this.total=e.data.count})},searchForm(){this.pageInfo.pageNum=1,this.getTableList()},changePage(e){this.pageInfo.pageNum=e,this.getTableList()},removeThis(e){this.$confirm("是否确定删除？").then(()=>{this.$axios.get("/manage/student/remove?id="+e).then(e=>{e.success?(this.$message.success("删除成功！"),this.getTableList()):this.$message.error("删除失败！")})})},handleSelectionChange(e){this.multipleSelection=e},batchDel(){this.$confirm("是否确定删除？").then(async()=>{for(let e of this.multipleSelection)await this.$axios.get("/manage/student/remove?id="+e.id);this.$message.success("删除成功！"),this.getTableList()})},setPassword(){this.$axios.post("/manage/user/update-pwd",{id:this.userId,password:this.password}).then(e=>{e.success?(this.$message.success("设置成功"),this.dialogFormVisible=!1,this.getTableList()):this.$message.error("设置失败")})}}},r=i,n=(a("6207"),a("2877")),o=Object(n["a"])(r,s,l,!1,null,"cc2ba40a",null);t["default"]=o.exports}}]);
//# sourceMappingURL=chunk-3f9647a4.5fbc30da.js.map