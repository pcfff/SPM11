(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e5840ab2"],{"77d0":function(e,t,a){},9084:function(e,t,a){"use strict";a.r(t);a("14d9");var l=function(){var e=this,t=e._self._c;return t("el-card",{staticClass:"box-card"},[t("el-breadcrumb",{attrs:{separator:"/"}},[t("el-breadcrumb-item",[e._v("问题管理")]),t("el-breadcrumb-item",[e._v("数据列表")])],1),t("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[t("el-form-item",{attrs:{label:"问题类型"}},[t("el-select",{attrs:{placeholder:"请选择问题类型",clearable:""},model:{value:e.param.type,callback:function(t){e.$set(e.param,"type",t)},expression:"param.type"}},[t("el-option",{attrs:{value:1,label:"选择题"}}),t("el-option",{attrs:{value:2,label:"判断题"}}),t("el-option",{attrs:{value:3,label:"填空题"}})],1)],1),t("el-form-item",{attrs:{label:"课程",prop:"courseId"}},[t("el-select",{attrs:{clearable:""},model:{value:e.param.courseId,callback:function(t){e.$set(e.param,"courseId",t)},expression:"param.courseId"}},e._l(e.courseList,(function(e){return t("el-option",{key:e.id,attrs:{value:e.id,label:e.name}})})),1)],1),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.searchForm}},[e._v("搜索")])],1)],1),t("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.$router.push("/main/question/add")}}},[e._v("添加问题")]),t("el-button",{attrs:{type:"danger",size:"mini"},on:{click:e.batchDel}},[e._v("批量删除")]),t("el-table",{ref:"multipleTable",staticStyle:{width:"100%","margin-top":"10px"},attrs:{border:"",data:e.tableList,"tooltip-effect":"dark"},on:{"selection-change":e.handleSelectionChange}},[t("el-table-column",{attrs:{type:"selection",width:"55"}}),t("el-table-column",{attrs:{align:"center",label:"ID",prop:"id",sortable:""}}),t("el-table-column",{attrs:{align:"center",label:"问题",prop:"name"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:a.row.name,placement:"top"}},[t("span",[e._v(e._s(a.row.name.substring(0,10)))])])]}}])}),t("el-table-column",{attrs:{align:"center",label:"题目类型",prop:"gender"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(["选择题","判断题","填空题"][t.row.type-1])+" ")]}}])}),t("el-table-column",{attrs:{align:"center",label:"答案",prop:"answer"}}),t("el-table-column",{attrs:{align:"center",label:"解析",prop:"detail"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:a.row.detail,placement:"top"}},[t("span",[e._v(e._s(a.row.detail.substring(0,10)))])])]}}])}),t("el-table-column",{attrs:{align:"center",label:"分数",prop:"score",sortable:""}}),t("el-table-column",{attrs:{align:"center",label:"课程名称",prop:"courseName"}}),t("el-table-column",{attrs:{align:"left",label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.$router.push("/main/question/modify?id="+a.row.id)}}},[e._v("修改 ")]),t("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(t){return e.removeThis(a.row.id)}}},[e._v("删除")])]}}])})],1),t("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:e.total},on:{"current-change":e.changePage}})],1)},s=[],n={data(){return{param:{type:"",courseId:""},courseList:[],tableList:[],pageInfo:{pageNum:1,pageSize:10},total:0,multipleSelection:[]}},mounted(){this.getTableList(this.pageInfo),this.$axios.post("/manage/course/condition-list").then(e=>{this.courseList=e.data})},methods:{getTableList(){this.$axios.get("/manage/question/list",{params:Object.assign(this.param,this.pageInfo)}).then(e=>{this.tableList=e.data.rows,this.total=e.data.count})},searchForm(){this.pageInfo.pageNum=1,this.getTableList()},changePage(e){this.pageInfo.pageNum=e,this.getTableList()},removeThis(e){this.$confirm("是否确定删除？").then(()=>{this.$axios.post("/manage/question/remove?id="+e).then(e=>{e.success?(this.$message.success("删除成功！"),this.getTableList()):this.$message.error("删除失败！")})})},handleSelectionChange(e){this.multipleSelection=e},batchDel(){this.$confirm("是否确定删除？").then(async()=>{for(let e of this.multipleSelection)await this.$axios.get("/manage/question/remove?id="+e.id);this.$message.success("删除成功！"),this.getTableList()})}}},i=n,r=(a("9213"),a("2877")),o=Object(r["a"])(i,l,s,!1,null,"01826d05",null);t["default"]=o.exports},9213:function(e,t,a){"use strict";a("77d0")}}]);
//# sourceMappingURL=chunk-e5840ab2.81a00bc7.js.map