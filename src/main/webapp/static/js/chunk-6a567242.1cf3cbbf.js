(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6a567242"],{"013f":function(e,a,s){"use strict";s.r(a);var t=function(){var e=this,a=e._self._c;return a("div",{staticClass:"login-page"},[a("div",{staticClass:"login-wrap"},[a("h2",[e._v("在线课程学习网站")]),a("div",{staticClass:"form"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.dataForm.username,expression:"dataForm.username"}],attrs:{type:"text",placeholder:"用户名",name:"username"},domProps:{value:e.dataForm.username},on:{input:function(a){a.target.composing||e.$set(e.dataForm,"username",a.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:e.dataForm.password,expression:"dataForm.password"}],attrs:{type:"password",placeholder:"密码",name:"password"},domProps:{value:e.dataForm.password},on:{input:function(a){a.target.composing||e.$set(e.dataForm,"password",a.target.value)}}}),a("button",{on:{click:e.login}},[e._v(" 登录 ")])])])])},r=[],o=(s("14d9"),{name:"Login",data(){return{dataForm:{username:"",password:"",role:""},dataRule:{username:[{required:!0,message:"帐号不能为空",trigger:"blur"}],password:[{required:!0,message:"密码不能为空",trigger:"blur"}]}}},methods:{login(){this.$axios({url:"/user/login",method:"POST",data:{username:this.dataForm.username,password:this.dataForm.password}}).then(e=>{e.success?(this.$message.success("登录成功"),localStorage.setItem("token",e.data.token),localStorage.setItem("role",e.data.role),localStorage.setItem("username",this.dataForm.username),"ROLE_STUDENT"===e.data.role?this.$router.push("/portal"):"ROLE_TEACHER"!==e.data.role&&"ROLE_ADMIN"!==e.data.role||this.$router.push("/main")):this.$message.error(e.message||"账号或密码错误")})}}}),n=o,d=(s("03e3"),s("2877")),u=Object(d["a"])(n,t,r,!1,null,null,null);a["default"]=u.exports},"03e3":function(e,a,s){"use strict";s("7269")},7269:function(e,a,s){}}]);
//# sourceMappingURL=chunk-6a567242.1cf3cbbf.js.map